OpenAI社のWhisper APIを用いているのですが、これだけで十分に高精度なんです。ただそれに加えて、いくつかこだわったポイントがあります。

### 句読点形式で出力してもらう
Whisper APIはデフォルトだと「今日は朝から忙しい一日でした 朝食を作り 子供達を学校に送り出した後 仕事に向かいました」みたいな文字起こしになります。
かなり読みづらいですよね。。なので句読点形式で文字起こししてもらえるように工夫しました。
具体的には、whisper APIにリクエストを送る際のパラメータに`prompt`というのがあるのですが、ここに句読点を用いた短い文章を指定します。シャべマルの場合は、「今から、メモを作成します。」と付け加えています。
Whisperのプロンプトは、出力形式を整える形で用いることができます。

### プロンプト指示により誤認識の改善
合わせてプロンプトは誤認識を改善できる単語帳にもなるそうです。
シャべマルでは、「カテゴリ名」と「よく使う単語」に登録された単語を、自動的にプロンプトに盛り込むことで、誤認識の文字起こしを改善しています。
メモや日記は、特に固有名詞が多く含まれる傾向があるので、対応してみました。ChatGPT、LLMなど、新しい言葉や省略単語などにも、ある程度対応してくれる感覚があります。

### 改行を盛り込む
「メモの見返しやすさ」を考えた時、長文で書き起こしされたメモはかなり苦痛であることが分かりました。改行の無い長文は、結構きついです。笑
