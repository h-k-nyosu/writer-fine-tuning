ただ単純にテキスト形式のメモを残していくだけでは、目新しさもなく楽しくもないな、という感覚があったので、他のメモアプリを参考にすると、カレンダー形式で毎日埋めていくという方式が結構主流なのが分かりました。
そこで、シャべマルでは絵文字が貯まっていく形を採用することで、より視覚的にメモが蓄積されており、またメモ内容を探しやすい形にしています。

### ただし、iOSにおいて絵文字は商用利用が不可
懸念はしていましたが、絵文字は商用利用不可ということが判明しました（笑）。なので、ChatGPTが出力するようなUnicodeで表現される絵文字は利用できません。
そこで商用利用可能な絵文字素材を扱うJoyPixelsのプレミアムライセンスを購入する形で対応しました。結果的に、高品質な絵文字を色々と選択することができるようになり、よかったなと思います！（高かったですが…笑）

### 最近傍探索による分類
こちらも同様にベクトルによる類似度を求めようと思ったのですが、絵文字の場合は種類が多いため、類似度計算にやや時間がかかりました。
そこで絵文字に関しては、コサイン類似度ではなくユークリッド距離による最近傍探索を採用することで、処理にかかる時間を2割ほど短縮しました。
ここら辺はちょっとあまり詳しくなく、ChatGPTと試行錯誤しての着地なので、もう少しパフォーマンス改善できる余地がある気がします。
ただ一つ言えるのは、正解のない分類タスクであるため、精度よりも速度に振り切って改善に取り組める感があります。

### 絵文字/感情の分類精度はChatGPTで改善
カテゴリと同様に、メモ内容からFunction Callingを用いて絵文字の分類用に文字列を変換し直しています。
流れとしては、こんな感じです。メモ内容 → メモトピック（絵文字検索用クエリ） → 類似度検索 → 最も類似する絵文字を設定
絵文字は単数・複数単語でのケバブケースでラベリングされているので、Function Callingではメモ内容から複数のtopicsを英単語で出力してもらう形をとっています。
絵文字の分類精度は「クエリの生成部分」で改善するという形で、責任範囲を切り分けることで改善のしやすさが向上した気がします。

## ✅ 毎月のレポートを作成することで、月ごとの振り返りを簡単に
